/* src/components/css/AR.css */

/**
 * Main container:
 * - Keeps your excellent structure: responsive, with aspect ratio,
 *   and self-defined dimensions.
 */
.ar-jewelry-container {
  width: 100%;
  max-width: 960px;
  aspect-ratio: 16 / 9;
  border: 5px solid #646cff;
  position: relative;
  overflow: hidden;
  background-color: #000;
  border-radius: 8px;
  margin: auto; /* (Added) Auto center component */
}

/**
 * MAIN CHANGE: Layering Structure
 * 
 * - We need 3 layers: Video < Canvas 2D < Canvas 3D.
 * - This code defines common styles for all layers.
 * - `position: absolute` and `transform` to center all layers.
 */
.ar-jewelry-container > * {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
}

/**
 * Layer 1: Video (z-index: 1, bottom)
 * - Display camera feed.
 * - `object-fit: cover` to fill container without distortion.
 */
.ar-video {
  z-index: 1;
  object-fit: cover;
}

/**
 * Layer 2: Canvas 2D for Debug drawing (z-index: 2, middle)
 * - Used to draw landmarks, connectors, and midpoint circles.
 * - Must be transparent to see the video underneath.
 */
.debug-canvas {
  z-index: 2;
  background-color: transparent;
}

/**
 * Layer 3: Canvas 3D for Ring rendering (z-index: 3, top)
 * - Used to render Three.js 3D model.
 * - Also must be transparent to see 2D canvas and video underneath.
 */
.three-canvas {
  z-index: 3;
  background-color: transparent;
}

/**
 * Loading notification overlay:
 * - Above all other layers (`z-index: 100`).
 * - Keeps your excellent design.
 */
.loading-overlay {
  z-index: 100; /* Increase z-index to ensure it's always on top */
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  font-size: 1.2rem;
  font-family: sans-serif;
  text-align: center;
  padding: 1rem;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  border-radius: inherit;
}

/* ===============================================
 * âœ¨ ADDITION: CSS for rear vs front camera modes
 * - Keeping this excellent code section of yours.
 * =============================================== */

/* Front camera (mirror/selfie mode) */
.ar-video.front-camera {
  transform: translate(-50%, -50%) scaleX(-1);
}

/* Rear camera (rear camera mode) - default */
.ar-video.rear-camera {
  transform: translate(-50%, -50%);
}
